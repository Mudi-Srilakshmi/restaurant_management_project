<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Contact Form</title>
</head>
<body>
    <h2>Contact Form</h2>

    <!-- Contact form -->
    <!-- "method=POST" ensures data is securely submitted to the server -->
    <form id="contactForm" method="POST">
    {% csrf_token %} <!-- CSRF token for Django security -->

    <!-- Name field -->
    <input type="text" id="name" name="name" placeholder="Your Name">
    <span id="nameError" style="color:red;"></span><br><br>

    <!-- Email field -->
    <input type="email" id="email" name="email" placeholder="Your Email">
    <span id="emailError" style="color:red;"></span><br><br>

    <!-- Message field -->
    <textarea id="message" name="message" placeholder="Your Message"></textarea><br><br>

    <!-- Submit button -->
    <button type="submit">Submit</button>
</form>

<!-- =========== Client-Side Validation Script ========= -->
<script>
    // Add event listener: when the form is submitted, run this function
    document.getElementById("contactForm").addEventListener("submit", function(event) {
        let valid = true; // Assume form is valid at first
        
        // Clear any old error messages before validating again
        document.getElementById("nameError").textContent = "";
        document.getElementById("emailError").textContent = "";
        
        // ------------ Name Validation ------------
        // Get the value of the "name" field and remove extra spaces
        let name = document.getElementById("name").value.trim();
        if (name === "") {
            // If the name field is empty, show error message
            document.getElementById("nameError").textContent = "Name is required.";
            valid = false; // Mark form as invalid
        }

        // ----------------- Email Validation ---------
        // Get the value of the "email" field and remove extra spaces
        let email = document.getElementById("email").value.trim();
        if (email === "") {
            // If the email field is empty, show error message
            document.getElementById("emailError").textContent = "Email is required.";
            valid = false; // Mark form as invalid
        }

        // --------- Final Check --------
        // If form is invalid, prevent it from being submitted to the server 
        if (!valid) {
            event.preventDefault();
        }
    });
</script>
</body>
</html>
